[custom]
enable_rule_generator=true
overwrite_original_rules=true

; === Direct Iranian IPs and domains ===
ruleset=🎯 DIRECT,geoip:ir
ruleset=🎯 DIRECT,geosite:category-ir
ruleset=🎯 DIRECT,geosite:category-bank-ir
ruleset=🎯 DIRECT,geosite:category-bourse-ir
ruleset=🎯 DIRECT,geosite:category-education-ir
ruleset=🎯 DIRECT,geosite:category-forums-ir
ruleset=🎯 DIRECT,geosite:category-gov-ir
ruleset=🎯 DIRECT,geosite:category-insurance-ir
ruleset=🎯 DIRECT,geosite:category-media-ir
ruleset=🎯 DIRECT,geosite:category-news-ir
ruleset=🎯 DIRECT,geosite:category-payment-ir
ruleset=🎯 DIRECT,geosite:category-scholar-ir
ruleset=🎯 DIRECT,geosite:category-shopping-ir
ruleset=🎯 DIRECT,geosite:category-social-media-ir
ruleset=🎯 DIRECT,geosite:category-tech-ir
ruleset=🎯 DIRECT,geosite:category-travel-ir

; === Ad blocking ===
ruleset=🛑 AdBlock,geosite:category-ads-all
ruleset=🛑 AdBlock,geosite:category-ads-ir
ruleset=🛑 AdBlock,geosite:google-ads
ruleset=🛑 AdBlock,geosite:spotify-ads
ruleset=🛑 AdBlock,geosite:adobe-ads
ruleset=🛑 AdBlock,geosite:apple-ads

; === Fallback for all others ===
ruleset=🐟 Final Catch-All,[]FINAL

; === Proxy groups ===
custom_proxy_group=🎯 DIRECT`select`[]DIRECT
custom_proxy_group=🛑 AdBlock`select`[]REJECT`[]DIRECT
custom_proxy_group=🐟 Final Catch-All`select`[]DIRECT`[]🚀 Proxy
custom_proxy_group=🚀 Proxy`select`.*`[]DIRECT
